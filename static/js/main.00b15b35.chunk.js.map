{"version":3,"sources":["App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/SearchForm/SearchForm.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/SearchForm/SearchForm.module.css"],"names":["module","exports","SearchForm","onSubmit","onChange","value","className","s","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","Searchbar","state","searchQuery","handleSearchQuery","e","setState","currentTarget","handleSubmit","preventDefault","props","toast","error","this","Component","ImageGalleryItem","webformatURL","largeImageURL","onOpenModal","onClick","target","dataset","large","src","alt","ImageGalleryItemImage","ImageGallery","imagePage","map","id","Button","Loader","loader","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","window","addEventListener","removeEventListener","createPortal","Overlay","bigImageUrl","App","page","total","loading","showModal","toggleModal","formSubmitHandler","handleClickMoreImages","prevState","fetchFirstImagePage","prevProps","fetchNextImagePages","scrollTo","top","documentElement","scrollHeight","behavior","a","url","fetch","response","json","images","fetchImages","hits","notificationText","autoClose","position","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.00b15b35.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"notificationText\":\"App_notificationText__2ImDe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","import PropTypes from 'prop-types';\nimport s from './SearchForm.module.css';\n\nfunction SearchForm({ onSubmit, onChange, value }) {\n  return (\n    <form className={s.SearchForm} onSubmit={onSubmit}>\n      <button type=\"submit\" className={s.SearchFormButton}>\n        <span className={s.SearchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        className={s.SearchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        onChange={onChange}\n        value={value}\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n  );\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string,\n};\n\nexport default SearchForm;\n","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\nimport SearchForm from '../SearchForm';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleSearchQuery = e => {\n    this.setState({ searchQuery: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n    if (this.state.searchQuery === '') {\n      toast.error('Please, enter your request!');\n    }\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <SearchForm\n          onSubmit={this.handleSubmit}\n          onChange={this.handleSearchQuery}\n          value={searchQuery}\n        />\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem(props) {\n  const { webformatURL, largeImageURL, onOpenModal } = props;\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        onClick={e => {\n          onOpenModal(e.target.dataset.large);\n        }}\n        src={webformatURL}\n        alt=\"\"\n        className={s.ImageGalleryItemImage}\n        data-large={largeImageURL}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nfunction ImageGallery(props) {\n  const { imagePage, onOpenModal } = props;\n\n  return (\n    <ul className={s.ImageGallery}>\n      {imagePage.map(({ id, webformatURL, largeImageURL }) => {\n        return (\n          <ImageGalleryItem\n            key={id}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            onOpenModal={onOpenModal}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  imagePage: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import LoaderSpiner from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nfunction Loader() {\n  return (\n    <LoaderSpiner\n      className={s.loader}\n      type=\"Circles\"\n      color=\"#3f51b5\"\n      height={100}\n      width={100}\n    />\n  );\n}\n\nexport default Loader;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={this.props.bigImageUrl} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport s from './App.module.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport Modal from './components/Modal';\n\nconst API_KEY = '22470352-c65ac8cc67498f5a0ef8fcd03';\nconst BASE_URL = 'https://pixabay.com/api';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    imagePage: [],\n    page: 1,\n    total: null,\n    loading: false,\n    showModal: false,\n    bigImageUrl: '',\n  };\n\n  componentDidMount() {\n    this.setState({ loading: true });\n    const page = this.state.page;\n    const searchQuery = this.state.searchQuery;\n    this.fetchFirstImagePage(searchQuery, page);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const page = this.state.page;\n    const searchQuery = this.state.searchQuery;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.setState({ loading: true });\n      this.fetchFirstImagePage(searchQuery, page);\n    }\n    if (prevState.page !== page) {\n      this.fetchNextImagePages(searchQuery, page);\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  toggleModal = bigImageUrl => {\n    this.setState({\n      showModal: !this.state.showModal,\n      bigImageUrl,\n    });\n  };\n\n  async fetchImages(searchQuery, page) {\n    const url = `${BASE_URL}/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${API_KEY}`;\n\n    const response = await fetch(url);\n    const images = await response.json();\n    this.setState({ loading: false });\n    return images;\n  }\n\n  async fetchNextImagePages(searchQuery, page) {\n    const { hits } = await this.fetchImages(searchQuery, page);\n    const images = hits.map(({ id, webformatURL, largeImageURL }) => {\n      return { id, webformatURL, largeImageURL };\n    });\n    this.setState(prevState => ({\n      imagePage: [...prevState.imagePage, ...images],\n    }));\n  }\n\n  async fetchFirstImagePage(searchQuery, page) {\n    const { hits, total } = await this.fetchImages(searchQuery, page);\n    const images = hits.map(({ id, webformatURL, largeImageURL }) => {\n      return { id, webformatURL, largeImageURL };\n    });\n    this.setState({\n      imagePage: images,\n      total,\n    });\n  }\n\n  formSubmitHandler = value => {\n    this.setState({\n      searchQuery: value,\n    });\n  };\n\n  handleClickMoreImages = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { searchQuery, imagePage, total, loading, showModal, bigImageUrl } =\n      this.state;\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.formSubmitHandler} />\n        {loading && <Loader />}\n        <ImageGallery\n          searchQuery={searchQuery}\n          imagePage={imagePage}\n          onOpenModal={this.toggleModal}\n        />\n        {total > 0 ? (\n          <Button onClick={this.handleClickMoreImages} />\n        ) : (\n          <p className={s.notificationText}>\n            Sorry, we do not have any images for your request\n          </p>\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal} bigImageUrl={bigImageUrl} />\n        )}\n        <ToastContainer\n          autoClose={2000}\n          position=\"top-right\"\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__2KF2z\",\"SearchFormButton\":\"SearchForm_SearchFormButton__3cKhM\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__2gNSS\",\"SearchFormInput\":\"SearchForm_SearchFormInput__1rGBp\"};"],"sourceRoot":""}