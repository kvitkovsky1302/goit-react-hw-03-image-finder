{"version":3,"sources":["SearchForm/SearchForm.module.css","ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","Searchbar/Searchbar.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","SearchForm/SearchForm.js","Searchbar/Searchbar.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Button/Button.js","App.js","index.js"],"names":["module","exports","SearchForm","onSubmit","onChange","value","className","s","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","Searchbar","state","searchQuery","handleSearchQuery","e","setState","currentTarget","handleSubmit","preventDefault","props","this","Component","ImageGalleryItem","id","webformatURL","largeImageURL","src","alt","ImageGalleryItemImage","ImageGallery","page","imagePage","a","url","fetch","response","json","images","hits","fetchImages","map","prevState","fetchImagePages","prevProps","fetchFirstImagePage","Button","onClick","App","formSubmitHandler","handleClickMoreImages","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.299cec06.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__33Tek\",\"SearchFormButton\":\"SearchForm_SearchFormButton__2plsK\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__3ONwH\",\"SearchFormInput\":\"SearchForm_SearchFormInput__3CnSl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__HXNrI\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1WoPu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3jlmw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1bdRT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Isrx\"};","import PropTypes from 'prop-types';\nimport s from './SearchForm.module.css';\n\nfunction SearchForm({ onSubmit, onChange, value }) {\n  return (\n    <form className={s.SearchForm} onSubmit={onSubmit}>\n      <button type=\"submit\" className={s.SearchFormButton}>\n        <span className={s.SearchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        className={s.SearchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        onChange={onChange}\n        value={value}\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n  );\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string,\n};\n\nexport default SearchForm;\n","import { Component } from 'react';\nimport s from './Searchbar.module.css';\nimport SearchForm from '../SearchForm';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleSearchQuery = e => {\n    this.setState({ searchQuery: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <SearchForm\n          onSubmit={this.handleSubmit}\n          onChange={this.handleSearchQuery}\n          value={searchQuery}\n        />\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem(props) {\n  const { id, webformatURL, largeImageURL } = props;\n  return (\n    <li key={id} className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className={s.ImageGalleryItemImage}\n        data-large={largeImageURL}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import { Component } from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst API_KEY = '22470352-c65ac8cc67498f5a0ef8fcd03';\nconst BASE_URL = 'https://pixabay.com/api';\n\nclass ImageGallery extends Component {\n  state = {\n    page: 1,\n    imagePage: [],\n  };\n\n  async fetchImages(searchQuery, page) {\n    const url = `${BASE_URL}/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${API_KEY}`;\n\n    const response = await fetch(url);\n    const images = await response.json();\n    const hits = await images.hits;\n    return hits;\n  }\n\n  async fetchImagePages(searchQuery, page) {\n    const imagePage = await this.fetchImages(searchQuery, page);\n    const images = imagePage.map(({ id, webformatURL, largeImageURL }) => {\n      return { id, webformatURL, largeImageURL };\n    });\n    this.setState(prevState => ({\n      imagePage: [...prevState.imagePage, ...images],\n    }));\n  }\n\n  async fetchFirstImagePage(searchQuery, page) {\n    const imagePage = await this.fetchImages(searchQuery, page);\n    const images = imagePage.map(({ id, webformatURL, largeImageURL }) => {\n      return { id, webformatURL, largeImageURL };\n    });\n    this.setState({\n      imagePage: images,\n    });\n  }\n\n  componentDidMount() {\n    const page = this.props.page;\n    const searchQuery = this.props.searchQuery;\n    this.fetchImagePages(searchQuery, page);\n  }\n\n  componentDidUpdate(prevProps) {\n    const page = this.props.page;\n    const searchQuery = this.props.searchQuery;\n    if (prevProps.searchQuery !== searchQuery) {\n      this.fetchFirstImagePage(searchQuery, page);\n    }\n    if (prevProps.page !== page) {\n      this.fetchImagePages(searchQuery, page);\n    }\n  }\n\n  render() {\n    const { imagePage } = this.state;\n    return (\n      <ul className={s.ImageGallery}>\n        {imagePage.map(({ id, webformatURL, largeImageURL }) => {\n          return (\n            <ImageGalleryItem\n              key={id}\n              webformatURL={webformatURL}\n              largeImageURL={largeImageURL}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import s from './Button.module.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nexport default Button;\n","import { Component } from 'react';\nimport s from './App.module.css';\nimport Searchbar from './Searchbar';\nimport ImageGallery from './ImageGallery';\nimport Button from './Button';\n// import Modal from './Modal';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    page: 1,\n  };\n\n  formSubmitHandler = value => {\n    this.setState({\n      searchQuery: value,\n    });\n  };\n\n  handleClickMoreImages = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { searchQuery, page } = this.state;\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.formSubmitHandler} />\n        <ImageGallery searchQuery={searchQuery} page={page} />\n        <Button onClick={this.handleClickMoreImages} />\n        {/* <Modal /> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}